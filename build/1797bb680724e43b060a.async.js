webpackJsonp([52],{781:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fileUpload=t.update=t.change=t.create=t.queryById=t.getOrg=t.query=void 0;var r=a(4),l=n(r),u=a(34),d=n(u),i=a(62),c=n(i),s=(t.query=function(){var e=(0,c.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)({url:p.query,method:"get",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.getOrg=function(){var e=(0,c.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)({url:_.query,method:"get",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.queryById=function(){var e=(0,c.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)({url:p.queryById,method:"get",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.create=function(){var e=(0,c.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)({url:p.add,method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.change=function(){var e=(0,c.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)({url:p.change,method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.update=function(){var e=(0,c.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)({url:p.update,method:"post",data:t}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),t.fileUpload=function(){var e=(0,c.default)(d.default.mark(function e(t){return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)({url:m,method:"post",data:(0,l.default)({},t,{bucket:f})}));case 1:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),a(20)),o=s.config.api,f=s.config.bucket,p=o.knowledge,m=o.imgUpload,_=o.organizations},1189:function(e,t,a){t=e.exports=a(15)(void 0),t.push([e.id,".content___37wgb{line-height:2.4;font-size:13px}.content___37wgb .item___1NcTN{display:-webkit-box;display:-ms-flexbox;display:flex}.content___37wgb .item___1NcTN>div:first-child{width:100px}.q-detail___2o6KU .q-detail-conent___3ffyw,.q-detail___2o6KU .q-detail-html-conent___1pN8y,.q-detail___2o6KU .q-detail-label___2IwVj{padding-top:6px;padding-bottom:6px}.q-detail___2o6KU .q-detail-label___2IwVj{text-align:right}.q-detail___2o6KU .q-detail-conent___3ffyw{text-align:left}.q-detail___2o6KU .q-detail-html-conent___1pN8y{border:1px dashed #d9d9d9;border-radius:3px;padding:24px}",""]),t.locals={content:"content___37wgb",item:"item___1NcTN","q-detail":"q-detail___2o6KU","q-detail-label":"q-detail-label___2IwVj","q-detail-conent":"q-detail-conent___3ffyw","q-detail-html-conent":"q-detail-html-conent___1pN8y"}},1326:function(e,t,a){var n=a(1189);"string"==typeof n&&(n=[[e.id,n,""]]);a(14)(n,{});n.locals&&(e.exports=n.locals)},1970:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=a(4),l=n(r),u=a(34),d=n(u),i=a(39),c=n(i),s=a(394),o=n(s),f=a(781),p=a(20);t.default={namespace:"knowledgeDetail",state:{data:{},orgList:[]},subscriptions:{setup:function(e){var t=e.dispatch,a=e.history;a.listen(function(){var e=(0,o.default)("/knowledge/:id").exec(location.pathname);e&&(t({type:"query",payload:{id:e[1]}}),t({type:"getOrg",payload:location.query}))})}},effects:{query:d.default.mark(function e(t,a){var n,r,l,u,i,s=t.payload,o=a.call,p=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o(f.queryById,s);case 2:if(n=e.sent,r=n.success,l=n.message,u=n.status,i=(0,c.default)(n,["success","message","status"]),!r){e.next=9;break}return e.next=7,p({type:"querySuccess",payload:{data:i.data}});case 7:e.next=10;break;case 9:throw n;case 10:case"end":return e.stop()}},e,this)}),getOrg:d.default.mark(function e(t,a){var n,r=(t.payload,a.call),l=a.put;return d.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(f.getOrg,{});case 2:if(n=e.sent,!n){e.next=6;break}return e.next=6,l({type:"getOrgSuccess",payload:{orgList:(0,p.treeToArray)(n.data)}});case 6:case"end":return e.stop()}},e,this)})},reducers:{querySuccess:function(e,t){var a=t.payload,n=a.data;return(0,l.default)({},e,{data:n})},getOrgSuccess:function(e,t){var a=t.payload.orgList;return(0,l.default)({},e,{orgList:a})}}},e.exports=t.default},2063:function(e,t,a){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=(a(23),a(22)),l=n(r),u=(a(25),a(24)),d=n(u),i=(a(27),a(17)),c=n(i),s=a(4),o=n(s),f=a(2),p=n(f),m=a(3),_=n(m),g=a(297),y=a(1326),h=n(y),q=a(201),x=function(e){var t=e.knowledgeDetail,a=t.data,n=t.orgList,r=[];a.attachList&&a.attachList[0]&&(r=a.attachList.map(function(e){return(0,o.default)({},e,{uid:e.id,status:"done",url:e.attachUrl,name:e.attachName})}));var u=function(e){var t=n.filter(function(t){return String(t.id)===String(e)});return t&&t[0]?t[0].orgName:""};return p.default.createElement("div",{className:"content-inner"},p.default.createElement(l.default,{gutter:24,className:h.default["q-detail"]},p.default.createElement(d.default,{span:24,className:"qite-list-title"},p.default.createElement(c.default,{type:"credit-card"}),"\u77e5\u8bc6\u70b9\u4fe1\u606f"),p.default.createElement(d.default,{md:3,xl:2,style:{paddingRight:"0px"},className:h.default["q-detail-label"]},"\u77e5\u8bc6\u70b9\u4e3b\u9898\uff1a"),p.default.createElement(d.default,{md:5,xl:3,style:{paddingLeft:"0px"},className:h.default["q-detail-conent"]},a.title),p.default.createElement(d.default,{md:3,xl:2,style:{paddingRight:"0px"},className:h.default["q-detail-label"]},"\u77e5\u8bc6\u70b9\u5bf9\u8c61\uff1a"),p.default.createElement(d.default,{md:5,xl:3,style:{paddingLeft:"0px"},className:h.default["q-detail-conent"]},u(a.toId)),p.default.createElement(d.default,{md:3,xl:3,style:{paddingRight:"0px"},className:h.default["q-detail-label"]},"\u77e5\u8bc6\u70b9\u6709\u6548\u671f\uff1a"),p.default.createElement(d.default,{md:5,xl:4,style:{paddingLeft:"0px"},className:h.default["q-detail-conent"]},a.effectiveTimeStr||"2118-12-01 16:19:14"),p.default.createElement(d.default,{md:3,xl:2,style:{paddingRight:"0px"},className:h.default["q-detail-label"]},"\u521b\u5efa\u65f6\u95f4\uff1a"),p.default.createElement(d.default,{md:5,xl:4,style:{paddingLeft:"0px"},className:h.default["q-detail-conent"]},a.createTimeStr)),p.default.createElement(l.default,{gutter:24,className:h.default["q-detail"]},p.default.createElement(d.default,{span:24,className:"qite-list-title"},p.default.createElement(c.default,{type:"credit-card"}),"\u77e5\u8bc6\u70b9\u5185\u5bb9"),p.default.createElement(d.default,{span:24,style:{paddingLeft:"12px",paddingRight:"12px"},className:h.default["q-detail-conent"]},p.default.createElement("div",{className:h.default["q-detail-html-conent"],dangerouslySetInnerHTML:{__html:a.content}}))),p.default.createElement(l.default,{gutter:24,className:h.default["q-detail"]},p.default.createElement(d.default,{span:24,className:"qite-list-title"},p.default.createElement(c.default,{type:"paper-clip"}),"\u77e5\u8bc6\u70b9\u8d44\u6599"),p.default.createElement(d.default,{span:24,style:{paddingLeft:"12px",paddingRight:"12px"}},p.default.createElement(q.FileList,{fileList:r,showRemoveIcon:!1}))))};x.propTypes={knowledgeDetail:_.default.object,loading:_.default.bool},t.default=(0,g.connect)(function(e){var t=e.knowledgeDetail,a=e.loading;return{knowledgeDetail:t,loading:a.models.knowledgeDetail}})(x),e.exports=t.default}});